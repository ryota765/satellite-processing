import numpy as np
import gdal, gdalconst, osr

gdal_dict = {
    'AV2070606-1': [
        [4118, 7094, 138.4713889, 36.4913889],
        [4300, 6632, 138.4911111, 36.5336111],
        [3821, 7018, 138.4369444, 36.4997222],
        [4241, 6718, 138.4852778, 36.5252778],
        [4099, 6765, 138.4686111, 36.5216667],
        [4132, 6863, 138.4725, 36.5127778],
        [4281, 6919, 138.4891667, 36.5075],
        [4284, 6835, 138.49, 36.5147222],
        [4119, 6924, 138.4711111, 36.5072222],
        [4275, 6960, 138.4886111, 36.5038889],
        [4212, 6869, 138.4816667, 36.5119444],
        [0.5, 0.5, 138.0059444, 37.1307139], # ul
        [8555.5, 0.5, 138.9686111, 37.1309111], # ur
        [0.5, 8449.5, 138.0107, 36.3696417], # bl
        [8555.5, 8449.5, 138.9638889, 36.3694778], # br
        # [4278, 4250, 138.4872861, 36.7511611] # c
    ],
    'AV2070606-2': [
        [5407, 1616, 138.4713889, 36.4913889],
        [5587, 1154, 138.4911111, 36.5336111],
        [5108, 1541, 138.4369444, 36.4997222],
        [5529, 1239, 138.4852778, 36.5252778],
        [5387, 1287, 138.4686111, 36.5216667],
        [5420, 1385, 138.4725, 36.5127778],
        [5568, 1441, 138.4891667, 36.5075],
        [5572, 1356, 138.49, 36.5147222],
        [5406, 1446, 138.4711111, 36.5072222],
        [5575, 1537, 138.4886111, 36.5038889],
        [5500, 1390, 138.4816667, 36.5119444],
        [0.5, 0.5, 137.86535, 36.6372389], # ul
        [8551.5, 0.5, 138.8213139, 36.63745], # ur
        [0.5, 8445.5, 137.8699917, 35.8765361], # bl
        [8551.5, 8445.5, 138.8167194, 35.8763639], # br
        # 4276, 4223, 138.3433417, 36.2578556] # c
    ],
    'AV2070812': [
        [2769, 3505, 138.4713889, 36.4913889],
        [2940, 3042, 138.4911111, 36.5336111],
        [2444, 3422, 138.4369444, 36.4997222],
        [2894, 3128, 138.4852778, 36.5252778],
        [2737, 3174, 138.4686111, 36.5216667],
        [2775, 3272, 138.4725, 36.5127778],
        [2924, 3330, 138.4891667, 36.5075],
        [2936, 3245, 138.49, 36.5147222],
        [2765, 3332, 138.4711111, 36.5072222],
        [2917, 3370, 138.4886111, 36.5038889],
        [2859, 3280, 138.4816667, 36.5119444],
        [0.5, 0.5, 138.1437611, 36.8085861],
        [15661.5, 0.5, 139.8989278, 36.808875],
        [0.5, 9220.5, 138.1530611, 35.9779833],
        [15661.5, 9220.5, 139.8896333, 35.9777056],
        # [7831, 4610.5, 139.0212472, 36.3964944]
    ],
    'AV2070606-1_c1':[
        [362, 353, 138.4733333, 36.5091667],
        [434, 319, 138.4816667, 36.5119444],
        [357, 319, 138.4727778, 36.5119444],
        [502, 369, 138.4891667, 36.5075],
        [533, 333, 138.4930556, 36.5105556],
        [513, 418, 138.4902778, 36.5033333],
        [490, 287, 138.4883333, 36.5144444],
        [411, 391, 138.4788889, 36.5055556],
        [498, 411, 138.4886111, 36.5038889], 
        [464, 324, 138.485, 36.5113889], 
        [376, 307, 138.475, 36.5130556], 
        [451, 349, 138.4833333, 36.5091667], 
        [450, 299, 138.4836111, 36.5136111],
        [340, 373, 138.4711111, 36.5072222], 
        [371, 299, 138.4747222,36.5136111], 
        [455, 281, 138.4841667, 36.5138889],
        [563, 319, 138.4966667, 36.5113889],
        [390, 421, 138.4769444, 36.5025],
        [314, 377, 138.4680556, 36.5066667], 
        [291, 372, 138.4663889, 36.5047222], 
        [467, 267, 138.4855556, 36.5163889], 
        [506, 285, 138.49, 36.5147222], 
    ],
    'AV2070606-2_c1':[
        [349, 337, 138.4733333, 36.5091667],
        [421, 302, 138.4816667, 36.5119444],
        [344, 303, 138.4727778, 36.5119444],
        [489, 353, 138.4891667, 36.5075],
        [520, 317, 138.4930556, 36.5105556],
        [500, 402, 138.4902778, 36.5033333],
        [477, 270, 138.4883333, 36.5144444],
        [398, 375, 138.4788889, 36.5055556],
        [484, 394, 138.4886111, 36.5038889], 
        [451, 308, 138.485, 36.5113889], 
        [363, 291, 138.475, 36.5130556], 
        [438, 333, 138.4833333, 36.5091667], 
        [437, 283, 138.4836111, 36.5136111],
        [327, 357, 138.4711111, 36.5072222], 
        [358, 283, 138.4747222,36.5136111], 
        [442, 265, 138.4841667, 36.5138889],
        [550, 303, 138.4966667, 36.5113889],
        [377, 405, 138.4769444, 36.5025],
        [301, 361, 138.4680556, 36.5066667], 
        [278, 356, 138.4663889, 36.5047222], 
        [454, 251, 138.4855556, 36.5163889], 
        [493, 269, 138.49, 36.5147222], 
    ],
    'AV2070812_c1':[
        [533, 343, 138.4733333, 36.5091667],
        [608, 311, 138.4816667, 36.5119444],
        [527, 311, 138.4727778, 36.5119444],
        [673, 361, 138.4891667, 36.5075],
        [710, 326, 138.4930556, 36.5105556],
        [683, 410, 138.4902778, 36.5033333],
        [671, 281, 138.4883333, 36.5144444],
        [581, 382, 138.4788889, 36.5055556],
        [665, 402, 138.4886111, 36.5038889], 
        [637, 316, 138.485, 36.5113889], 
        [549, 300, 138.475, 36.5130556], 
        [623, 341, 138.4833333, 36.5091667], 
        [626, 292, 138.4836111, 36.5136111],
        [513, 364, 138.4711111, 36.5072222], 
        [546, 291, 138.4747222,36.5136111], 
        [633, 272, 138.4841667, 36.5138889],
        [748, 312, 138.4966667, 36.5113889],
        [565, 413, 138.4769444, 36.5025],
        [484, 368, 138.4680556, 36.5066667], 
        [460, 363, 138.4663889, 36.5047222], 
        [642, 260, 138.4855556, 36.5163889], 
        [685, 278, 138.49, 36.5147222], 
    ],
}

input_path = 'AV2070812_c1'
z = 0

gcp_list = []
for item in gdal_dict[input_path]:
    pixel, line, x, y = item
    gcp = gdal.GCP(x, y, z, pixel, line)
    gcp_list.append(gcp)

# ds = gdal.Open(f"../tsumagoi/ALOS/{input_path}/ALAV2A072642860-O1B2G_U_viewable.img", gdal.GA_Update)
ds = gdal.Open('/Users/ryotanomura/沖研/satellite/tsumagoi/crop_1/avnir/subset_of_ALAV2A082412890-O1B2G_U_viewable.tif', gdal.GA_Update)
wkt = ds.GetProjection()
ds.SetGCPs(gcp_list, wkt)
ds = None

